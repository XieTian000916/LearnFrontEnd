<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script>
        // js 对象分为：自定义、内置和浏览器（js独有）三种
        // 内置对象提供常用基本功能（属性和方法）帮助快速开发
        // js提供Math、Date、Array、String等多种内置对象
        // 查阅MDN获取更多使用方法

        // Math对象
        // 获取随机数
        // 小数 Math.random()
        console.log(Math.random());
        // 整数
        function getRandom(min, max) {
            return Math.floor(Math.random() * (max - min - 1)) + min;
        }
        console.log(getRandom(1, 100));

        console.log('------------------------------');

        // Date对象(构造函数)
        // 构造函数必须使用new来调用
        var date = new Date();
        console.log(date);

        // 格式化年月日日期
        var year = date.getFullYear();
        var month = date.getMonth() + 1;// 月份返回0~11，需要手动加一
        var dates = date.getDate();
        var day = date.getDay();// 周日返回0，其余返回1~6
        var arr = ['星期日', '星期一', '星期二', '星期三', '星期四', '星期五', '星期六']
        console.log('今天是' + year + '年' + month + '月' + dates + '日' + arr[day]);

        // 格式化时间
        function getTimer() {
            var date = new Date();
            var h = date.getHours();
            h = h > 10 ? h : '0' + h;
            var m = date.getMinutes();
            m = m > 10 ? m : '0' + m;
            var sec = date.getSeconds();
            sec = sec > 10 ? sec : '0' + sec;
            return h + ':' + m + ':' + sec;
        }
        console.log(getTimer());

        // 获得Date总的毫秒数（时间戳）    距1970年1月1日的毫秒数
        // 1、valueOf（）或getTime（）
        console.log(date.valueOf());
        console.log(date.getTime());
        // 2、简单写法（常用）
        var date1 = +new Date();// +new Date() 返回总毫秒数
        console.log(date1);
        // 3、H5新增 
        console.log(Date.now());

        console.log('------------------------------');

        // Array对象
        // 创建数组
        var arr1 = new Array();// 创建一个空数组
        var arr2 = new Array(2);// 创建一个长度为2的空数组
        var arr3 = new Array(2, 3);// 创建数组 ar3=[2,3]

        // 检测是否为数组    返回布尔值
        var arr = [];
        var obj = {};
        // 1、运算符 instanceof
        console.log(arr instanceof Array);
        console.log(obj instanceof Array);
        // 2、Array.isArray(参数)
        console.log(Array.isArray(arr));
        console.log(Array.isArray(obj));


        // 添加或删除数组元素
        arr = [1, 2, 3]
        // 1、push(参数1...)
        // 在数组末尾添加一个或多个元素，并返回新的长度
        console.log(arr.push(4, '5'));// 打印返回长度
        console.log(arr);// 新的数组

        // 2、pop()
        // 删除数组最后一个元素，把数组长度减一，并返回删除的元素
        console.log(arr.pop());// 打印被删除的元素
        console.log(arr);// 新的数组

        // 3、unshift(参数1...)
        // 在数组开头添加一个或多个元素，并返回新的长度
        console.log(arr.unshift(0));// 打印返回长度
        console.log(arr);// 新的数组

        // 4、shift()
        // 删除数组第一个元素，把数组长度减一，并返回删除的元素
        console.log(arr.shift());// 打印被删除的元素
        console.log(arr);// 新的数组

        // 数组排序
        arr = [33, 7, 42, 114514, 69];
        // 1、翻转数组
        console.log(arr);
        arr.reverse();
        console.log(arr);

        // 2、升序/降序排列
        arr.sort(function (a, b) {
            return a - b;// 升序排列
        })
        console.log(arr);

        arr.sort(function (a, b) {
            return b - a;// 降序排列
        })
        console.log(arr);


        // 获取数组索引号
        var arrIndex = ['I', 'he', 'I', 'she', 'I', 'she'];
        console.log(arrIndex.indexOf('I'));//从前往后找，返回第一个满足条件的
        console.log(arrIndex.lastIndexOf('I'));//从后往前找,返回第一个满足条件的
        // 找不到该元素则返回-1
        console.log(arrIndex.indexOf('me'));
        console.log(arrIndex.lastIndexOf('me'));

        // 数组去重 (建议封装成函数使用)
        var newArrIndex = [];
        for (i = 0; i < arrIndex.length; i++) {
            if (newArrIndex.indexOf(arrIndex[i]) == -1) {
                newArrIndex.push(arrIndex[i]);
            }
        }
        console.log(newArrIndex);


        // 数组转字符串
        // 1、数组名.tostring() 默认分隔符','
        console.log(arr.toString());
        // 2、数组名.join(分隔符) 自定义分隔符，更自由
        console.log(arr.join('/'));
        console.log(arr.join('-'));
        console.log(arr.join('&'));


        // 连接数组 concat
        var num1 = [1, 2];
        var num2 = [4, 5];
        var nums = num1.concat('3', num2);// 可以连接纯数组，也可以添加元素
        console.log(nums);


        // 截取数组 slice
        const animals = ['ant', 'bison', 'camel', 'duck', 'elephant'];
        console.log(animals.slice(2));// 截取到索引号2
        console.log(animals.slice(2, 4));// 浅拷贝，含2不含4
        console.log(animals.slice(1, 5));// 大于数组长度则提取至数组末尾
        console.log(animals.slice(-2));// 截取倒数几个元素
        console.log(animals.slice(2, -1));// 如果该参数为负数，则它表示在原数组中的倒数第几个元素结束抽取
        console.log(animals.slice());// 不填参数截取整个数组


        // 删除、替换、添加数组元素 splice
        const months = ['Jan', 'March', 'April', 'June'];
        months.splice(1, 0, 'Feb');// 从索引位1开始删除0个元素，加入元素'Feb'
        console.log(months);
        months.splice(4, 1, 'May');// 从索引位4开始删除1个元素，加入元素'May'
        console.log(months);

        console.log('------------------------------');

        // 字符串对象

        // 获取字符串索引号
        var str = '中华人民共和国万岁，世界人民大团结万岁';
        console.log(str.indexOf('人'));
        console.log(str.indexOf('人', 3));// 从索引号3开始往后查找

        // 根据位置返回字符
        // 1、返回指定位置的字符 charAt（index）
        console.log(str.charAt(1));
        // 2、返回指定位置的字符ASCII码 charCodeAt(index)
        console.log(str.charCodeAt(1));
        // 3、str[index]  功能与charAt（）等效，HTML5新增
        console.log(str[1]);

        // 拼接截取字符串
        // 1、concat 用法同上
        // 2、substr
        // substr(start,length) 开始位置索引号+取的字符个数
        console.log(str.substr(0, 9));

        // 替换字符串及转换为数组
        // 1、replace（‘被替换字符’，‘替换的字符’）
        console.log(str.replace('，', '!'));
        // 2、split(‘分隔符’)  转换为数组
        console.log(str.split('，'));
    </script>
</head>

<body>

</body>

</html>